<!DOCTYPE html>
<html lang="ko">
<head>
    <title>Study Track - íšŒì›ê°€ì…</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* ëª¨ë“  í˜ì´ì§€ ê³µí†µ - ìŠ¤í¬ë¡¤ë°”/í­ ê³ ì • */
        html { overflow-y: scroll; }
        .navbar .container {
            max-width: 1320px !important;
            padding-left: 20px !important;
            padding-right: 20px !important;
        }
    </style>
</head>
<body class="bg-light">

<nav class="navbar bg-white shadow-sm">
    <div class="container d-flex justify-content-between align-items-center">
        <a class="navbar-brand fw-bold text-primary m-0" href="/">ğŸ“– Study Track</a>
        <div id="navAuthArea" class="d-flex gap-2 align-items-center">
            <a href="/auth/signup" class="btn btn-primary btn-sm">íšŒì›ê°€ì…</a>
            <a href="/auth/login" class="btn btn-outline-primary btn-sm">ë¡œê·¸ì¸</a>
        </div>
    </div>
</nav>

<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="col-lg-5 w-100" style="max-width: 450px;">
        <div class="text-center mb-4">
            <h2 class="fw-bold mb-2">íšŒì›ê°€ì…</h2>
            <p class="text-muted small">ìƒˆë¡œìš´ ìŠ¤í„°ë”” ì—¬ì •ì„ ì‹œì‘í•˜ì„¸ìš”!</p>
        </div>
        <div class="card shadow-sm border-0">
            <div class="card-body p-4">
                <form id="signupForm">
                    <div class="mb-3">
                        <label for="userId" class="form-label fw-semibold">ì•„ì´ë””</label>
                        <input type="text" id="userId" class="form-control" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required>
                    </div>

                    <div class="mb-3">
                        <label for="password" class="form-label fw-semibold">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="password" class="form-control" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required>
                    </div>

                    <div class="mb-3">
                        <label for="nickname" class="form-label fw-semibold">ë‹‰ë„¤ì„</label>
                        <input type="text" id="nickname" class="form-control" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                    </div>

                    <button type="submit" class="btn btn-primary w-100 mt-2 py-2">ê°€ì…í•˜ê¸°</button>

                    <div class="text-center mt-3 small">
                        <span class="text-dark">ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?</span>
                        <a href="/auth/login" class="text-decoration-none">ë¡œê·¸ì¸</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<footer class="text-center py-4 text-muted small">Â© 2026 Study Track</footer>

<script>
    document.getElementById("signupForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        const userId = document.getElementById("userId").value;
        const nickname = document.getElementById("nickname").value;
        const password = document.getElementById("password").value;

        try {
            const res = await fetch("/api/auth/signup", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ userId, nickname, password })
            });
            if (res.ok) {
                alert("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
                window.location.href = "/auth/login";
            } else {
                alert("ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
            }
        } catch (err) {
            console.error(err);
        }
    });
</script>
</body>
</html>