<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Study Track - Community</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<!-- NAV -->
<nav class="navbar bg-white shadow-sm">
    <div class="container">
        <a class="navbar-brand fw-bold text-primary">📖 Study Track</a>

        <div>
            <a href="/login" th:if="${user == null}" class="btn btn-outline-primary btn-sm">로그인</a>
            <span th:if="${user != null}" class="fw-semibold me-2" th:text="${user.name}"></span>
        </div>
    </div>
</nav>

<!-- HERO -->
<section class="container py-5 text-center">
    <h2 class="fw-bold mb-2">함께 공부할 팀을 찾아보세요</h2>
    <p class="text-muted mb-3">스터디 모집부터 과제 관리까지 한 번에</p>
    <a href="/study/start" class="btn btn-primary btn-lg">스터디 시작하기</a>
</section>

<!-- POPULAR STUDIES -->
<section class="container pb-4">
    <h5 class="fw-bold mb-3">🔥 인기 스터디</h5>

    <div class="row g-3">
        <div class="col-md-4" th:each="study : ${popularStudies}">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body">
                    <span class="badge bg-primary mb-2" th:text="${study.category}"></span>
                    <h6 class="fw-bold mt-1" th:text="${study.title}"></h6>
                    <p class="text-muted small" th:text="${study.description}"></p>
                    <a th:href="@{/study/{id}(id=${study.id})}" class="btn btn-sm btn-outline-primary">참여하기</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- MY STUDIES -->
<section class="container py-4" th:if="${user != null}">
    <h5 class="fw-bold mb-3">📌 내가 참여한 스터디</h5>

    <div class="row g-3">
        <div class="col-md-3" th:each="study : ${myStudies}">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body">
                    <h6 class="fw-bold" th:text="${study.title}"></h6>
                    <small class="text-muted">👥 <span th:text="${study.memberCount}"></span>명</small>
                    <a th:href="@{/study/{id}(id=${study.id})}" class="btn btn-sm btn-primary w-100 mt-2">이동</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA -->
<section class="bg-white py-5 text-center mt-4 shadow-sm">
    <h4 class="fw-bold mb-2">지금 바로 스터디를 만들어보세요</h4>
    <p class="text-muted mb-3">혼자보다 함께가 더 빠릅니다</p>
    <a href="/study/create" class="btn btn-primary btn-lg">스터디 개설</a>
</section>

<footer class="text-center py-4 text-muted small">
    © 2026 Study Track
</footer>

</body>
</html>